# ドキュメント作成基準

## プロジェクトドキュメント

### 基本方針

- すべての主要機能には対応するドキュメントが必要です
- ドキュメントはコードと同じリポジトリで管理し、コードの変更に合わせて更新します
- 技術的な説明は簡潔かつ明確に記述し、必要に応じて例を含めてください

### ドキュメント構造

プロジェクトドキュメントは`docs/`ディレクトリ内で以下の構造に従って管理します：

```text
docs/
├── README.md              # ドキュメントのエントリーポイント、目次
├── overview.md            # プロジェクト概要、アーキテクチャ全体像
├── technical_design/      # 技術設計文書
│   ├── api_spec.md        # API仕様
│   ├── data_model.md      # データモデル設計
│   └── ...                # その他技術設計文書
├── operations/            # 運用関連ドキュメント
│   ├── deployment.md      # デプロイ手順
│   └── ...                # その他運用手順
├── public/                # 外部公開用ドキュメント
│   └── api_reference.md   # 公開API仕様書
└── testing/               # テスト関連ドキュメント
    ├── test_plan.md       # テスト計画
    └── ...                # テスト手順書等
```

### ファイル命名規則

- 全て小文字でスネークケース（例: `data_model.md`）を使用
- ファイル名は内容を簡潔に表すもの
- ファイル拡張子は `.md`（Markdown）を使用

### 各ディレクトリの目的

#### technical_design/

- アーキテクチャ設計
- APIエンドポイント仕様
- データモデル定義
- 認証・認可方式の詳細
- 通信プロトコル仕様（例：MQTT）

#### operations/

- デプロイメント手順
- 設定変更方法
- 障害対応手順
- 外部サービス連携設定（例：Soracom）
- 運用監視方法

#### public/

- 外部向けAPI仕様
- SDKドキュメント
- 連携ガイド
- ユーザーマニュアル

#### testing/

- テスト計画
- テスト環境設定手順
- 自動テスト実行方法
- テストデータセット説明

### ドキュメント品質ガイドライン

#### 必須要素

- 作成日・更新日
- 目次（長文の場合）
- 参照ドキュメントへのリンク

#### Markdownスタイル

- 見出しレベルは階層構造を反映（H1→H2→H3）
- コードブロックには言語指定を含める（例：```python）
- 表を使用して複雑なデータや比較を表現
- 箇条書きリストを活用して読みやすくする
- 重要な情報は**太字**で強調

#### レビュープロセス

- 技術的な正確さ
- 文法・スペルチェック
- 最新情報への更新
- 用語の一貫性

#### バージョン管理

- ドキュメントの変更はコード変更と同じPRで行う
- 大きな変更の履歴はドキュメント内に記録

## プルリクエスト

### テンプレートの使用

Pull Requestを要望されたら、テンプレートに沿ったフォーマットで作成してください。
テンプレートは `.github/workflows/pull_request_template.md` に設置しています。

## コードコメント

### ドキュメンテーションコメント

- すべての関数、クラス、メソッドにはdocstringを記述してください
- パラメータ、戻り値、例外について明記してください
- 複雑なロジックには、その意図を説明するコメントを追加してください

### 例：Pythonのdocstring形式

```python
def calculate_total(items: list[Item], discount: float = 0.0) -> float:
    """
    商品リストの合計金額を計算します。

    Args:
        items: 計算対象の商品リスト
        discount: 適用する割引率（0.0〜1.0）

    Returns:
        割引適用後の合計金額

    Raises:
        ValueError: 割引率が0〜1の範囲外の場合
    """
    # 実装
```
